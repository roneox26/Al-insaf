<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    <meta charset="UTF-8">
    <title>ржЛржг ржЖржмрзЗржжржи ржкрждрзНрж░</title>
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <style>
        @page { size: A4; margin: 12mm; }
        @media print {
            .no-print { display: none !important; }
            body { margin: 0; padding: 12mm; }
        }
        body { 
            font-family: 'Kalpurush', 'Nikosh', Arial, sans-serif; 
            margin: 0; padding: 20px; font-size: 11px; line-height: 1.4;
            width: 210mm; min-height: 297mm; background: white;
        }
        .header { text-align: center; margin-bottom: 6px; border-bottom: 2px double #000; padding-bottom: 5px; position: relative; }
        .header h2 { margin: 1px; font-size: 18px; font-weight: bold; color: #1a1a1a; }
        .header p { margin: 0; font-size: 9px; color: #333; }
        .header h3 { 
            margin: 4px auto; font-size: 13px; background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            color: white; padding: 5px 15px; display: inline-block; border-radius: 4px; box-shadow: 0 1px 3px rgba(0,0,0,0.2);
        }
        .photo-box { 
            position: absolute; right: 10px; top: 5px; width: 75px; height: 90px;
            border: 1.5px solid #000; display: flex; align-items: center; justify-content: center;
            background: linear-gradient(135deg, #f5f5f5 0%, #e0e0e0 100%);
            font-size: 9px; color: #666; font-weight: bold;
        }
        .form-section { margin: 4px 0; }
        .form-section p { margin: 2px 0; text-align: justify; line-height: 1.4; }
        .form-row { 
            margin: 2px 0; line-height: 1.6; border-bottom: 1px dotted #ccc;
            padding: 2px 0; display: flex; align-items: center;
        }
        .form-row strong { color: #28a745; font-weight: 600; }
        .nominee-box { 
            border: 1.5px solid #28a745; padding: 8px; margin: 6px 0;
            background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
            border-radius: 5px; box-shadow: 0 1px 4px rgba(40,167,69,0.2);
        }
        .nominee-box h4 { 
            margin: 0 0 6px 0; font-size: 12px; text-align: center; 
            font-weight: bold; color: #1b5e20; background: white;
            padding: 4px; border-radius: 3px;
        }
        .commitment-box {
            background: linear-gradient(135deg, #fff9e6 0%, #fff3cd 100%);
            border: 1.5px solid #ffc107; padding: 8px; margin: 6px 0;
            border-radius: 5px; box-shadow: 0 1px 4px rgba(255,193,7,0.2);
        }
        .commitment-box h3 {
            text-align: center; background: linear-gradient(135deg, #333 0%, #555 100%);
            color: white; padding: 5px; margin: -8px -8px 6px -8px;
            border-radius: 4px 4px 0 0; font-size: 12px;
        }
        .signature-section { 
            margin-top: 15px; display: flex; justify-content: space-between;
            font-size: 10px; padding-top: 8px; border-top: 1px solid #ddd;
        }
        .signature-box { text-align: center; min-width: 100px; }
        .signature-line { border-top: 1px solid #000; margin-top: 25px; padding-top: 3px; font-weight: 500; }
        .no-print { 
            position: fixed; top: 10px; right: 10px; z-index: 1000;
            background: white; padding: 15px; box-shadow: 0 4px 20px rgba(0,0,0,0.3);
            border-radius: 10px; border: 2px solid #28a745; max-width: 350px;
        }
        @media print {
            .no-print { display: none !important; }
        }
        .customer-select {
            margin-bottom: 12px; padding: 10px; background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
            border-radius: 8px; border: 2px solid #28a745;
        }
        .customer-select label { font-weight: bold; margin-bottom: 5px; display: block; color: #1b5e20; }
        .btn { padding: 10px 20px; border: none; border-radius: 6px; cursor: pointer; 
               font-size: 14px; font-weight: 500; transition: all 0.3s; }
        .btn-success { background: linear-gradient(135deg, #28a745 0%, #20c997 100%); color: white; }
        .btn-success:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(40,167,69,0.4); }
        .btn-secondary { background: #6c757d; color: white; text-decoration: none; display: inline-block; }
        .info-highlight { background: #d4edda; padding: 2px 8px; border-radius: 3px; font-weight: 600; }
    </style>

  <link rel="stylesheet" href="{{ url_for('static', filename='css/responsive.css') }}">
</head>
<body>
    <div class="no-print">
        <div class="customer-select">
            <label>рж╕ржжрж╕рзНржп ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи:</label>
            <select id="customerSelect" style="width: 100%; padding: 8px; border-radius: 5px; border: 1px solid #28a745;">
                <option value="">-- рж╕ржжрж╕рзНржп ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи --</option>
                {% for c in customers %}
                <option value="{{ c.id }}" {% if customer and customer.id == c.id %}selected{% endif %}>
                    {{ c.member_no }} - {{ c.name }} - {{ c.phone }}
                </option>
                {% endfor %}
            </select>
        </div>
        <button onclick="window.print()" class="btn btn-success">ЁЯЦия╕П ржкрзНрж░рж┐ржирзНржЯ ржХрж░рзБржи</button>
        <a href="{{ url_for('application_forms') }}" class="btn btn-secondary">тЖР ржлрж┐рж░рзЗ ржпрж╛ржи</a>
    </div>

    <div class="header">
        <div class="photo-box">ржЫржмрж┐</div>
        <h2>ржЖрж▓-ржЗржирж╕рж╛ржл ржХрзНрж╖рзБржжрзНрж░ ржмрзНржпржмрж╕рж╛ржпрж╝рзА рж╕ржоржмрж╛ржпрж╝ рж╕ржорж┐рждрж┐ рж▓рж┐ржГ</h2>
        <p>ржарж┐ржХрж╛ржирж╛ржГ ржЧрзНрж░рж╛ржо/ржкрзЛрж╖рзНржЯржГ ржирзЗрж╣рж╛рж▓ржкрзБрж░, ржерж╛ржирж╛ржГ ржоржирж┐рж░рж╛ржоржкрзБрж░, ржЬрзЗрж▓рж╛ржГ ржпрж╢рзЛрж░ред</p>
        <p>рж░рзЗржЬрж┐рж╕рзНржЯрзНрж░рзЗрж╢ржи ржиржВ: рзнрзо ржЬрзЗ | ржлрзЛржи: рзжрззрзнрззрзл-рзжрзжрзжрзжрзжрзж</p>
        <h3>ржЛржг ржЖржмрзЗржжржи ржкрждрзНрж░</h3>
        <p style="text-align: right; margin: 5px 10px 0 0; font-weight: 500;">
            рж╕ржжрж╕рзНржп ржиржВ: <span class="info-highlight" id="memberNo">{{ customer.member_no if customer else '______' }}</span> | 
            рждрж╛рж░рж┐ржЦ: <span id="currentDate" class="info-highlight"></span>
        </p>
    </div>

    <div class="form-section">
        <p><strong>ржмрж░рж╛ржмрж░,</strong><br>
        рж╕ржнрж╛ржкрждрж┐/рж╕ржорзНржкрж╛ржжржХ<br>
        ржЖрж▓-ржЗржирж╕рж╛ржл ржХрзНрж╖рзБржжрзНрж░ ржмрзНржпржмрж╕рж╛ржпрж╝рзА рж╕ржоржмрж╛ржпрж╝ рж╕ржорж┐рждрж┐ рж▓рж┐ржГ<br>
        <strong>ржмрж┐рж╖ржпрж╝:</strong> ржЛржг ржкрж╛ржУржпрж╝рж╛рж░ ржЬржирзНржп ржЖржмрзЗржжржиред</p>
        
        <p><strong>ржЬржирж╛ржм,</strong></p>
        <p style="text-indent: 50px; text-align: justify;">
            ржмрж┐ржирзАржд ржирж┐ржмрзЗржжржи ржПржЗ ржпрзЗ, ржЖржорж┐ ржЖрж▓-ржЗржирж╕рж╛ржл ржХрзНрж╖рзБржжрзНрж░ ржмрзНржпржмрж╕рж╛ржпрж╝рзА рж╕ржоржмрж╛ржпрж╝ рж╕ржорж┐рждрж┐ рж▓рж┐ржГ ржПрж░ ржПржХржЬржи рж╕ржжрж╕рзНржп рж╣рж┐рж╕рзЗржмрзЗ рж╕ржХрж▓ ржирж┐ржпрж╝ржо-ржХрж╛ржирзБржи ржорзЗржирзЗ ржЛржг ржЧрзНрж░рж╣ржгрзЗрж░ ржЬржирзНржп ржЖржмрзЗржжржи ржХрж░рж┐рждрзЗржЫрж┐ред ржЖржорж┐ ржЖржкржирж╛рж░ рж╕ржВржЧржаржирзЗрж░ рж╕ржХрж▓ ржирж┐ржпрж╝ржо-ржХрж╛ржирзБржи ржорзЗржирзЗ ржЪрж▓рж╛рж░ ржЕржЩрзНржЧрзАржХрж╛рж░ ржХрж░рж┐рждрзЗржЫрж┐ ржПржмржВ ржПржЗ рж╕ржВржЧржаржирзЗрж░ рж╕рзНржерж╛ржпрж╝рзА ржХрзНрж╖рждрж┐ржХрж░ ржХрзЛржи ржХрж╛ржЬ ржХрж░рж┐ржм ржирж╛ ржмрж╛ ржП ржмрзНржпрж╛ржкрж╛рж░рзЗ ржХрж╛ржЙржХрзЗ ржХрзЛржи рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░ржм ржирж╛ред
        </p>
    </div>

    <div class="form-section" style="background: #f8f9fa; padding: 5px; border-radius: 3px; border-left: 3px solid #28a745;">
        <h4 style="margin: 3px 0 5px 0; color: #28a745; font-size: 12px;">ржмрзНржпржХрзНрждрж┐ржЧржд рждржерзНржпрж╛ржмрж▓рзА:</h4>
        <div class="form-row"><strong>рзз.</strong> ржЖржмрзЗржжржиржХрж╛рж░рзАрж░ ржирж╛ржо: <strong id="name">{{ customer.name if customer else '___________________________' }}</strong> | ржкрж┐рждрж╛/рж╕рзНржмрж╛ржорзА: <strong id="father">{{ customer.father_husband if customer else '___________________________' }}</strong></div>
        <div class="form-row"><strong>рзи.</strong> ржорж╛рждрж╛рж░ ржирж╛ржо: ___________________________ | ржзрж░рзНржо: ржЗрж╕рж▓рж╛ржо/рж╣рж┐ржирзНржжрзБ | ржЬрж╛рждрзАржпрж╝рждрж╛: ржмрж╛ржВрж▓рж╛ржжрзЗрж╢рзА</div>
        <div class="form-row"><strong>рзй.</strong> ржЬржирзНржо рждрж╛рж░рж┐ржЦ: ____/____/________ | ржкрзЗрж╢рж╛: <strong id="profession">{{ customer.profession if customer else 'ржмрзНржпржмрж╕рж╛/ржХрзГрж╖рж┐/ржЪрж╛ржХрзБрж░рзАржЬрзАржмрж┐/ржЕржирзНржпрж╛ржирзНржп' }}</strong></div>
        <div class="form-row"><strong>рзк.</strong> ржЬрж╛рждрзАржпрж╝ ржкрж░рж┐ржЪржпрж╝ржкрждрзНрж░/ржЬржирзНржо ржирж┐ржмржирзНржзржи ржиржВ: <strong id="nid">{{ customer.nid_no if customer else '___________________________' }}</strong> | рж▓рж┐ржЩрзНржЧ: ржкрзБрж░рзБрж╖/ржорж╣рж┐рж▓рж╛</div>
        <div class="form-row"><strong>рзл.</strong> ржмрж░рзНрждржорж╛ржи ржарж┐ржХрж╛ржирж╛ - ржЧрзНрж░рж╛ржо: <strong id="village">{{ customer.village if customer else '________' }}</strong> | ржкрзЛрж╕рзНржЯ: <strong id="post">{{ customer.post if customer else '________' }}</strong> | ржерж╛ржирж╛: <strong id="thana">{{ customer.thana if customer else '________' }}</strong> | ржЬрзЗрж▓рж╛: <strong id="district">{{ customer.district if customer else 'ржпрж╢рзЛрж░' }}</strong></div>
        <div class="form-row"><strong>рзм.</strong> рж╕рзНржерж╛ржпрж╝рзА ржарж┐ржХрж╛ржирж╛ - ржЧрзНрж░рж╛ржо: __________ | ржкрзЛрж╕рзНржЯ: __________ | ржерж╛ржирж╛: __________ | ржЬрзЗрж▓рж╛: ржпрж╢рзЛрж░</div>
        <div class="form-row"><strong>рзн.</strong> рж╢рж┐ржХрзНрж╖рж╛ржЧржд ржпрзЛржЧрзНржпрждрж╛: __________ | ржмрзИржмрж╛рж╣рж┐ржХ ржЕржмрж╕рзНржерж╛: ржмрж┐ржмрж╛рж╣рж┐ржд/ржЕржмрж┐ржмрж╛рж╣рж┐ржд | рж╕ржирзНрждрж╛ржи рж╕ржВржЦрзНржпрж╛: ржЫрзЗрж▓рзЗ __ржЯрж┐, ржорзЗржпрж╝рзЗ __ржЯрж┐</div>
        <div class="form-row"><strong>рзо.</strong> ржЖржмрзЗржжржиржХрж╛рж░рзАрж░ ржлрзЛржи: <strong id="phone">{{ customer.phone if customer else '___________________________' }}</strong> | ржЕржнрж┐ржнрж╛ржмржХрзЗрж░ ржлрзЛржи: ___________________________</div>
        <div class="form-row"><strong>рзп.</strong> рж╕ржорзНржкржжрзЗрж░ ржкрж░рж┐ржорж╛ржг: __________ ржЯрж╛ржХрж╛ | рж╕ржорзНржкржжрзЗрж░ ржорзЗржпрж╝рж╛ржж: __________ ржмржЫрж░</div>
    </div>

    <div class="nominee-box">
        <h4>ЁЯУЛ ржиржорж┐ржирзАрж░ рждржерзНржпрж╛ржмрж▓рзА</h4>
        <div class="form-row" style="border-bottom: 1px solid #28a745;"><strong>ржХ)</strong> ржиржорж┐ржирзАрж░ ржирж╛ржо: ___________________________ | ржкрж┐рждрж╛рж░ ржирж╛ржо: ___________________________</div>
        <div class="form-row" style="border-bottom: 1px solid #28a745;"><strong>ржЦ)</strong> ржорж╛рждрж╛рж░ ржирж╛ржо: ___________________________ | рж╕ржорзНржкрж░рзНржХ: ___________________________ | ржарж┐ржХрж╛ржирж╛: ___________________________</div>
        <div class="form-row" style="border-bottom: 1px solid #28a745;"><strong>ржЧ)</strong> ржЬрж╛рждрзАржпрж╝ ржкрж░рж┐ржЪржпрж╝ржкрждрзНрж░/ржЬржирзНржо ржирж┐ржмржирзНржзржи ржиржВ: ___________________________ | ржлрзЛржи ржиржВ: ___________________________</div>
    </div>

    <div class="commitment-box">
        <h3>ЁЯУЭ ржЕржЩрзНржЧрзАржХрж╛рж░ржирж╛ржорж╛</h3>
        <p style="text-indent: 50px; text-align: justify; line-height: 1.5;">
            ржЖржорж┐, <strong id="nameCommitment">{{ customer.name if customer else '___________________________' }}</strong> ржПржЗ ржорж░рзНржорзЗ ржШрзЛрж╖ржгрж╛ ржХрж░рж┐рждрзЗржЫрж┐ ржпрзЗ, ржЖржорж┐ рж╕рзНржмржЬрзНржЮрж╛ржирзЗ ржУ рж╕рзБрж╕рзНрже рж╢рж░рзАрж░рзЗ рж╕рзНржмрзАржХрж╛рж░ ржХрж░рж┐рждрзЗржЫрж┐ ржпрзЗ, ржЖржорж╛рж░ ржжрзЗржУржпрж╝рж╛ ржЙржкрж░рзЛржХрзНржд рж╕ржХрж▓ рждржерзНржп рж╕рждрзНржп ржПржмржВ ржирж┐ржЬрж╕рзНржмред ржПржЫрж╛ржбрж╝рж╛ ржЖржорж┐ ржЕржЩрзНржЧрзАржХрж╛рж░ ржХрж░рж┐рждрзЗржЫрж┐ ржпрзЗ, ржЖржорж┐ ржЕрждрзНрж░ рж╕ржорж┐рждрж┐рж░ ржХрж╛рж░рзНржпржмрж┐ржзрж┐ ржУ ржХржорж┐ржЯрж┐рж░ рж╕ржХрж▓ рж╕рж┐ржжрзНржзрж╛ржирзНржд ржорж╛ржирж┐ржпрж╝рж╛ ржЪрж▓рж┐ржмред ржЖржорж┐ ржЕрждрзНрж░ рж╕ржорж┐рждрж┐рж░ рж╕ржВржмрж┐ржзрж╛ржи ржмрж╣рж┐рж░рзНржнрзВржд ржХрзЛржи ржХрж╛ржЬ ржХрж░рж┐ржм ржирж╛ред рж╕ржВржмрж┐ржзрж╛ржи ржмрж╣рж┐рж░рзНржнрзВржд ржХрзЛржи ржХрж╛ржЬрзЗ рж▓рж┐ржкрзНржд ржерж╛ржХрж▓рзЗ ржмрж╛ ржкрзНрж░ржорж╛ржг ржкрж╛ржУржпрж╝рж╛ ржЧрзЗрж▓рзЗ ржЖрж▓-ржЗржирж╕рж╛ржл ржХрзНрж╖рзБржжрзНрж░ ржмрзНржпржмрж╕рж╛ржпрж╝рзА рж╕ржоржмрж╛ржпрж╝ рж╕ржорж┐рждрж┐ рж▓рж┐ржГ ржХрж░рзНрждрзГржкржХрзНрж╖ рж╕ржжрж╕рзНржпржкржж ржмрж╛рждрж┐рж▓ рж╕рж╣ ржпрзЗ ржХрзЛржи ржкржжржХрзНрж╖рзЗржк ржЧрзНрж░рж╣ржг ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗ, ржЗрж╣рж╛рждрзЗ ржЖржорж╛рж░ ржХрзЛржи ржЖржкрждрзНрждрж┐ ржерж╛ржХрж┐ржмрзЗ ржирж╛ред
        </p>
    </div>

    <div class="commitment-box" style="background: linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%); border-color: #28a745;">
        <h3 style="background: linear-gradient(135deg, #28a745 0%, #20c997 100%);">тЬЕ ржЕржЩрзНржЧрзАржХрж╛рж░ ржХрж░рзНрждрзГржХ ржкрзБржирж░рзАржпрж╝</h3>
        <p style="text-align: center; font-weight: 600; font-size: 11px; color: #155724; line-height: 1.5;">
            ржзржирзНржпржмрж╛ржж рж╕рж╣ржХрж╛рж░рзЗ ржЖржмрзЗржжржиржЯрж┐ ржЧрзГрж╣рзАржд рж╣рж▓рзЗ ржЕрждрзНрж░ рж╕ржорж┐рждрж┐рж░ рж╕ржорзНржорж╛ржирж┐ржд рж╕ржжрж╕рзНржп рж╣рж┐рж╕рж╛ржмрзЗ ржЕржирзНрждрж░рзНржнрзБржХрзНржд ржХрж░рж╛ рж╣ржмрзЗред
        </p>
    </div>

    <div class="signature-section" style="margin-top: 15px; border-top: 1px solid #28a745; padding-top: 8px;">
        <div class="signature-box">
            <div style="font-weight: 600; color: #28a745;">рж╕ржорзНржкрж╛ржжржХ</div>
            <div class="signature-line">рж╕рзНржмрж╛ржХрзНрж╖рж░ ржУ рж╕рзАрж▓</div>
        </div>
        <div class="signature-box">
            <div style="font-weight: 600; color: #28a745;">ржЖржмрзЗржжржиржХрж╛рж░рзА</div>
            <div class="signature-line">рж╕рзНржмрж╛ржХрзНрж╖рж░ ржУ рждрж╛рж░рж┐ржЦ</div>
        </div>
        <div class="signature-box">
            <div style="font-weight: 600; color: #28a745;">рж╕ржнрж╛ржкрждрж┐</div>
            <div class="signature-line">рж╕рзНржмрж╛ржХрзНрж╖рж░ ржУ рж╕рзАрж▓</div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    <script>
        const today = new Date();
        const dateStr = today.getDate() + '/' + (today.getMonth() + 1) + '/' + today.getFullYear();
        document.getElementById('currentDate').textContent = dateStr;

        $(document).ready(function() {
            $('#customerSelect').select2({ placeholder: '-- рж╕ржжрж╕рзНржп ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи --' });
            $('#customerSelect').on('change', function() {
                const customerId = $(this).val();
                if (customerId) window.location.href = '{{ url_for("commitment_form") }}?customer_id=' + customerId;
            });
        });
    </script>
</body>
</html>
