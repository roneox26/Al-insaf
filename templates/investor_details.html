<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Investor Details - {{ investor.name }}</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="container mt-4">
  <h3 class="mb-4">💼 Investor Details</h3>
  
  <div class="card mb-4">
    <div class="card-body">
      <h5>{{ investor.name }}</h5>
      <p><strong>Investor ID:</strong> {{ investor.investor_id }}</p>
      <div class="row">
        <div class="col-md-4">
          <p><strong>Total Investment:</strong> <span class="text-success">৳{{ "{:,.2f}".format(investor.total_investment) }}</span></p>
        </div>
        <div class="col-md-4">
          <p><strong>Total Withdrawal:</strong> <span class="text-danger">৳{{ "{:,.2f}".format(investor.total_withdrawal) }}</span></p>
        </div>
        <div class="col-md-4">
          <p><strong>Current Balance:</strong> <span class="text-primary">৳{{ "{:,.2f}".format(investor.current_balance) }}</span></p>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-6">
      <h5>💰 Investment History</h5>
      <table class="table table-bordered table-sm">
        <thead class="table-success">
          <tr>
            <th>Date</th>
            <th>Amount</th>
            <th>Note</th>
          </tr>
        </thead>
        <tbody>
          {% for inv in investments %}
          <tr>
            <td>{{ inv.date.strftime('%d-%m-%Y') }}</td>
            <td class="text-success">৳{{ "{:,.2f}".format(inv.amount) }}</td>
            <td>{{ inv.note or '-' }}</td>
          </tr>
          {% endfor %}
          {% if not investments %}
          <tr>
            <td colspan="3" class="text-center">No investments</td>
          </tr>
          {% endif %}
        </tbody>
      </table>
    </div>

    <div class="col-md-6">
      <h5>💸 Withdrawal History</h5>
      <table class="table table-bordered table-sm">
        <thead class="table-danger">
          <tr>
            <th>Date</th>
            <th>Amount</th>
            <th>Note</th>
          </tr>
        </thead>
        <tbody>
          {% for wd in withdrawals %}
          <tr>
            <td>{{ wd.date.strftime('%d-%m-%Y') }}</td>
            <td class="text-danger">৳{{ "{:,.2f}".format(wd.amount) }}</td>
            <td>{{ wd.note or '-' }}</td>
          </tr>
          {% endfor %}
          {% if not withdrawals %}
          <tr>
            <td colspan="3" class="text-center">No withdrawals</td>
          </tr>
          {% endif %}
        </tbody>
      </table>
    </div>
  </div>

  <div class="mt-4">
    <a href="{{ url_for('investor_details_print', id=investor.id) }}" class="btn btn-primary" target="_blank">🖨️ Print</a>
    <a href="{{ url_for('manage_investors') }}" class="btn btn-secondary">⬅️ Back</a>
  </div>
</body>
</html>
